Host github.com
    User git
    IdentitiesOnly yes
    ControlMaster no
    IdentityFile ~/.ssh/id_rsa_yubikey.pub
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,umac-128@openssh.com

Host two.plek.org mx?.vlere.net
    IdentityFile ~/.ssh/id_rsa_yubikey.pub
    ForwardAgent yes
    AddKeysToAgent yes
    User tcole
    RemoteForward /home/tcole/.gnupg/S.gpg-agent /Users/tcole/.gnupg/S.gpg-agent.extra

Host one.plek.org three.plek.org
    IdentityFile ~/.ssh/id_rsa_yubikey.pub
    ForwardAgent yes
    AddKeysToAgent yes
    User tcole
    RemoteForward /run/user/1000/gnupg/S.gpg-agent /Users/tcole/.gnupg/S.gpg-agent.extra

Host bh1.hil1.vlere.net
    AddKeysToAgent yes
    User tcole
    RemoteForward /home/tcole/.gnupg/S.gpg-agent /Users/tcole/.gnupg/S.gpg-agent.extra

Host 192.168.1.2
    AddKeysToAgent yes
    User tcole

Host pi.plek.local
    AddKeysToAgent yes
    User tcole

Host *.plek.org.beta.tailscale.net
    ForwardAgent yes
    AddKeysToAgent yes
    User tcole

Host *.plek.local
    ForwardAgent yes
    AddKeysToAgent yes
    User kelp

Host *
    ControlMaster auto
    ControlPersist 3600
    # don't drop connection if network is down temporarily (eg, suspend)
    TCPKeepAlive no
    # but do send ssh keepalives every minute to keep firewalls happy
    ServerAliveInterval 60
    ServerAliveCountMax 10
    ControlPath ~/.ssh/socket-%r@%h:%p
    AddressFamily inet
    HashKnownHosts yes
    VisualHostKey yes
    PasswordAuthentication no
    ChallengeResponseAuthentication no
    StrictHostKeyChecking ask
    VerifyHostKeyDNS yes
    ForwardAgent no
    ForwardX11 no
    ForwardX11Trusted no
    ServerAliveInterval 300
    ServerAliveCountMax 2
    Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com
    MACs hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com
    KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256
    HostKeyAlgorithms ssh-ed25519-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ssh-ed25519,ssh-rsa

Include config.d/*
